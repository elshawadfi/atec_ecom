if (self.CavalryLogger) { CavalryLogger.start_js(["k2T2x"]); }

__d("StoriesCardBlueVideoMedia_video.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"Fragment",name:"StoriesCardBlueVideoMedia_video",type:"Video",metadata:null,argumentDefinitions:[],selections:[{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null}]};e.exports=a}),null);
__d("BaseAccessibleElement_DEPRECATED.react",["React","stylex"],(function(a,b,c,d,e,f){"use strict";function a(a){var c=a.children;a=a.id;return b("React").jsx("span",{className:"pmk7jnqg g0aa4cga q45zohi1",id:a,children:c})}e.exports=a}),null);
__d("useCometPrerendererImpl",["React","clearTimeout","emptyFunction","setTimeout"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=(a=b("React")).useCallback,h=a.useEffect,i=a.useRef,j=a.useState,k=50;function l(a){a&&(typeof a==="function"?a():a.preload())}function m(a){return a.pointerType==="mouse"}c=function(a,c,d,e,f){__p&&__p();var n=j(!1),o=n[0],p=n[1],q=i(null);n=g(function(c){(a==="tooltip"||a==="button"&&d!=null)&&(q.current=b("setTimeout")(function(){a==="tooltip"?(p(!0),l(d),l(e)):a==="button"&&l(d)},k))},[a,d,e]);var r=g(function(){b("clearTimeout")(q.current),q.current=null,p(!1),f&&f()},[f]),s=g(function(b){if(!m(b))return;a==="button"&&(p(!0),l(e))},[a,e]);h(function(){return function(){b("clearTimeout")(q.current)}},[]);if(a==null)return[{isVisible:c,shouldPrerender:!1},b("emptyFunction"),b("emptyFunction"),b("emptyFunction")];c={isVisible:c,shouldPrerender:o};return[c,n,r,s]};e.exports=c}),null);
__d("useCometDisplayTimingTracker",["requireCond","cr:1075529","cr:683059","React"],(function(a,b,c,d,e,f){"use strict";var g=b("React").useCallback,h=b("React").useRef;function a(a,c,d,e,f){var i=h(null);return g(function(g){i.current!==g&&(i.current=g,g&&(b("cr:683059")&&b("cr:683059").addRenderingInfo(g,a,c,d,e,f),b("cr:1075529")&&(b("cr:1075529").addRenderingInfo(g,a,c,"TAIL_LOAD"),b("cr:1075529").addMutationRootForTraceType(g,"TAIL_LOAD"))))},[a,c,d,e,f])}e.exports=a}),null);
__d("CometPageletImpl.react",["requireCond","CometHeroInteractionContext","CometHeroInteractionIDContext","CometRelay","cr:683059","React","mergeRefs","performanceNavigationStart","performanceNow","useCometDisplayTimingTracker"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("CometRelay").ProfilerContext,i=(c=b("React")).useCallback,j=c.useContext,k=c.useMemo;function l(a,b){return babelHelpers["extends"]({},a,{pageletStack:[].concat(a.pageletStack,[b])})}function a(a,c){__p&&__p();var d=a.children,e=a.name,f=a.pageletType,m=a.position,n=j(b("CometHeroInteractionContext").Context),o=j(b("CometHeroInteractionIDContext")),p=m===void 0?e:e+"_"+m;a=k(function(){var a=l(n,p),b=a.getRelayProfilerContext(a.pageletStack);return[a,b]},[n,p]);var q=a[0];a=a[1];var r=k(function(){return(g||(g=b("performanceNow")))()},[o]),s=i(function(){if(m!=null&&m>10)return null;b("cr:683059")&&(b("cr:683059").addFirstMarkerPoint("Queue_"+p,r+b("performanceNavigationStart")()),b("cr:683059").addFirstMarkerPoint("Render_"+p));return null},[p,m,r]),t=i(function(a,b){o!=null&&q.logPageletVC(o,r,a,b,q.pageletStack)},[o,q,r]),u=b("useCometDisplayTimingTracker")(e,m,p,t,f);e=k(function(){return b("mergeRefs")(c,u)},[c,u]);return b("React").jsx(b("CometHeroInteractionContext").Context.Provider,{value:q,children:b("React").jsx(h.Provider,{value:a,children:d(e,s)})})}e.exports=c.forwardRef(a)}),null);
__d("CometHeroInteractionLoggerAPI",["requireCond","cr:1236146","cr:1236147"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(){__p&&__p();var a=null;b("cr:1236147")&&(a=b("cr:1236147").currentInteractionLogger());return{addMetadata:function(c,d,e){if(a)a.addMetadata(d,e);else if(b("cr:1236146")){c=b("cr:1236146").getOrCreate(c);c&&c.addMetadata(d,e)}},addSubspan:function(c,d,e,f,g,h){if(a)a.addSubspan(d,e,f,g,h);else if(b("cr:1236146")){c=b("cr:1236146").getOrCreate(c);c&&c.addSubspan(d,e,f,g,h)}},endHeroInteraction:function(a){b("cr:1236146")&&b("cr:1236146").end(a)}}}e.exports={getInteractionLogger:a}}),null);
__d("CometHeroInteractionImpl.react",["Promise","requireCond","CometHeroInteractionContext","CometHeroInteractionIDContext","CometHeroInteractionLoggerAPI","CometHeroLogging","cr:1075529","CometPageletImpl.react","cr:683059","CometVisualCompletionConstants","HiddenSubtreePassiveContext","PromiseAnnotate","React","cancelAnimationFrame","relay-experimental/ProfilerContext","relay-runtime","requestAnimationFrame","useLayoutEffect_SAFE_FOR_SSR","useStable","uuid"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=(c=b("React")).useCallback,h=c.useContext,i=c.useEffect,j=c.useMemo,k=c.useRef,l=b("relay-runtime").RelayProfiler,m="Interaction Start",n="root",o=[n],p=new WeakSet();function q(a,c){b("CometHeroLogging").markStart(a,c)}function r(a,c,d,e,f){b("CometHeroLogging").markEnd(a,c,[].concat(e),"PlaceholderWait","Placeholder Wait: "+f,d)}function s(a,c,d,e,f,g){b("CometHeroLogging").markEnd(a,c,f,"Relay","Relay("+e+(g?",Network":"")+")","Relay_"+d+"_"+e,{fetchedFromNetwork:g,queryName:e})}function t(a,c,d,e){b("CometHeroLogging").markStart(c,"Relay_"+d+"_"+e)}function u(a,c,d,e,f){if(f==null)return function(){};var g=b("CometHeroLogging").getSimpleUUID();t(a,c,g,f.queryName);return function(b){b=!f.usedCache&&!f.usedPrefetcher;s(a,c,g,f.queryName,d,b)}}function v(a){if(!a)return"No placeholder";var c=a.name!=null?"@"+a.name:"";a=b("CometHeroLogging").createThenableDescription(a.thenables)||"No Promises";return a+c}function a(a,c){__p&&__p();var d=a.children,e=a.className,f=a.hidden,s=a.interactionDesc,t=a.interactionUUID,w=b("useStable")(b("uuid")),x=k(null),y=k(null),z=h(b("HiddenSubtreePassiveContext")),A=s!=null?s:"No Description",B=k({}),C=k({}),D=k(null),E=b("useStable")(b("CometHeroInteractionLoggerAPI").getInteractionLogger),F=g(function(a,c){y.current!==a&&x.current==null&&!z.getCurrent()&&Object.values(B.current).length===0&&(x.current=b("requestAnimationFrame")(function(){x.current=null,!z.getCurrent()&&y.current!==a&&Object.values(B.current).length===0&&(y.current=a,b("CometHeroLogging").markEnd(E,a,o,"Interaction","Interaction Done: "+c,m),E.endHeroInteraction(a),b("cr:1075529")&&b("cr:1075529").resumeVCTrace(a,b("CometVisualCompletionConstants").HERO_TRACING_HOLD))}))},[z,E]),G=g(function(){var a=D.current;a!=null&&F(a.interactionUUID,a.interactionDesc)},[F]),H=g(function(a,c){var d=D.current;d!=null&&y.current!==d.interactionUUID&&(b("CometHeroLogging").markEnd(E,d.interactionUUID,o,"Interaction","Interaction Aborted ("+c+"): "+d.interactionDesc,m),E.endHeroInteraction(d.interactionUUID),b("cr:1075529")&&b("cr:1075529").resumeVCTrace(d.interactionUUID,b("CometVisualCompletionConstants").HERO_TRACING_HOLD),a!==null&&d.interactionUUID===a.interactionUUID&&(b("CometHeroLogging").markStart(a.interactionUUID,m),b("cr:1075529")&&b("cr:1075529").holdVCTrace(a.interactionUUID,b("CometVisualCompletionConstants").HERO_TRACING_HOLD)));y.current=null;b("cancelAnimationFrame")(x.current);x.current=null;D.current=a},[E]);b("useLayoutEffect_SAFE_FOR_SSR")(function(){var a=null;t!=null&&(a={interactionDesc:A,interactionUUID:t});H(a,"New Interaction");t!=null&&F(t,A)},[A,t,H,F]);b("useLayoutEffect_SAFE_FOR_SSR")(function(){if(t!=null){var a=z.getCurrent(),b=z.subscribe(function(b){a!==b&&(a=b,b?H({interactionDesc:A,interactionUUID:t},"Hidden"):F(t,A))});return function(){return b.remove()}}},[z,t,A,H,F]);i(function(){return function(){H(null,"Unmount")}},[H]);var I=j(function(){__p&&__p();var a={getRelayProfilerContext:function(a){return{wrapPrepareQueryResource:function(b){var c=u.bind(null,E,w,a);l.attachProfileHandler("fetchRelayQuery",c);try{b=b();return b}finally{l.detachProfileHandler("fetchRelayQuery",c)}}}},hold:function(c,d){var e=b("CometHeroLogging").getSimpleUUID();a.registerPlaceholder(c,e,d);c=new(b("Promise"))(function(){});b("PromiseAnnotate").setDisplayName(c,"Hold");a.suspenseCallback(e,d,new Set([c]));return e},logCometHero:function(a,c,d){y.current!==a&&b("CometHeroLogging").markEnd(E,a,[].concat(d),"HeroRendering","Hero Rendering: "+c,m,void 0)},logMetadata:function(a,b,c){var d;c=c[c.length-1];d=(d=C.current[c])!=null?d:Object.create(null);b!=null?d[a]=b:delete d[a];C.current[c]=d},logPageletVC:function(a,c,d,e,f){var g=f[f.length-1],h=C.current[g];h=h!=null?babelHelpers["extends"]({},h):void 0;h&&b("cr:683059")&&b("cr:683059").addRenderingMetadata(g,h);e!=null&&b("CometHeroLogging").measure(E,a,[].concat(f),"VCWithoutImage","VCWithoutImage: "+f[f.length-1],c,e,h);d!=null&&b("CometHeroLogging").measure(E,a,[].concat(f),"VC","VC: "+f[f.length-1],c,d,h)},logReactRender:function(a,c,d,e,f,g,h){y.current!==a&&b("CometHeroLogging").measure(E,a,[].concat(h),"ReactRender","ReactRender: "+c,e,f,{baseDuration:g})},pageletStack:[],registerPlaceholder:function(a,c,d){a=B.current[c]==null;if(!a)return;b("cancelAnimationFrame")(x.current);x.current=null;a=new Set();B.current[c]={pageletStack:d,thenables:a};q(w,c)},removePlaceholder:function(a,b){a=B.current[b]!=null;if(!a)return;a=B.current[b];delete B.current[b];G();r(E,w,b,a.pageletStack,v(a))},suspenseCallback:function(a,c,d,e){__p&&__p();var f=B.current[a];B.current[a]==null&&q(w,a);B.current[a]={name:e,pageletStack:c,thenables:d};d.forEach(function(a){if(!p.has(a)){var d;p.add(a);var e=(d=b("PromiseAnnotate").getDisplayName(a))!=null?d:"Promise",f=b("CometHeroLogging").getSimpleUUID();b("CometHeroLogging").markStart(w,f);a.then(function(){b("CometHeroLogging").markEnd(E,w,c,"SuspensePromise","Promise: "+e,f)})}});e=v(f);d=v(B.current[a]);d!==e&&(r(E,w,a,c,d),q(w,a))},unhold:function(b,c){a.removePlaceholder(b,c)}};return a},[E,w,G]);a=j(function(){return I.getRelayProfilerContext(I.pageletStack)},[I]);return b("React").jsx(b("CometHeroInteractionContext").Context.Provider,{value:I,children:b("React").jsx(b("CometHeroInteractionIDContext").Provider,{value:t,children:b("React").jsx(b("relay-experimental/ProfilerContext").Provider,{value:a,children:b("React").jsx(b("CometPageletImpl.react"),{name:n,ref:c,children:function(a,c){return b("React").jsxs("div",{className:e,hidden:f,ref:a,children:[b("React").jsx(c,{}),d]})}})})})})}e.exports=c.forwardRef(a)}),null);
__d("StoriesTimespentPixel.react",["requireCond","cr:764837","cr:808374","React","StoriesLoggerContext","StoriesViewer2URI","ViewableImpressionEventHandler","ViewableImpressionTracking","stylex"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=(c=b("React")).useContext,h=c.useEffect,i=c.useRef,j=c.useState,k=null;function a(a){__p&&__p();var c=i(null),d=j(!1),e=d[0],f=d[1];d=g(b("StoriesLoggerContext"));d=d.logger;h(function(){b("ViewableImpressionTracking").init();k&&b("ViewableImpressionEventHandler")&&b("ViewableImpressionEventHandler").instance.handleEvent(k,{cause:"default",name:"hidden"});var a=c==null?void 0:c.current;a&&b("ViewableImpressionEventHandler").instance.handleEvent(a,{cause:"default",name:"visible"});k=c.current},[]);h(function(){if(a.cardID==="")return;b("cr:764837")&&b("cr:764837").inform("Stories/cardChanged")},[a.cardID]);h(function(){var a=function(a){f(!0),b("StoriesViewer2URI").isValid(a)||k&&b("ViewableImpressionEventHandler")&&b("ViewableImpressionEventHandler").instance.handleEvent(k,{cause:"default",name:"hidden"})};b("cr:808374")&&b("cr:808374").registerHandler(a);return function(){b("cr:808374")&&b("cr:808374").removeHandler(a)}});d=d.getTimespentConfig();return b("React").createElement("div",babelHelpers["extends"]({className:"k4urcfbm rk01pc8j j9ispegn pmk7jnqg ay7djpcl"+(e?" mkhogb32":"")},d,{key:a.cardID,ref:c}))}e.exports=a}),null);
__d("useStoriesReportBlueBug",["AsyncDialog","AsyncRequest","React","StoriesPauseReasons"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("React").useCallback,h=b("React").useRef,i="/ajax/bugs/report",j="219500115583764";function a(a){__p&&__p();var c=a.setPause,d=h(null),e=g(function(){var a=new(b("AsyncRequest"))().setData({product_category_id:j}).setURI(i),e=d.current;e&&(e instanceof Element||e instanceof Text)&&a.setRelativeTo(e);c(!0,b("StoriesPauseReasons").BUG_DIALOG);b("AsyncDialog").send(a,function(a){a.subscribe("hide",function(){c(!1,b("StoriesPauseReasons").BUG_DIALOG)})})},[c]);a=g(function(){e()},[e]);return[a,d]}e.exports=a}),null);
__d("StoriesCardTimerSourceVideo",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=1e3;a=function(){__p&&__p();function a(a){this.$1=a}var b=a.prototype;b.getDuration=function(){return this.$1.getPlaybackDuration()*g};b.getNewTimeElapsed=function(a){return this.$1.getCurrentTimePosition()*g};b.play=function(){this.$1.play("user_initiated")};b.pause=function(){this.$1.pause("user_initiated")};return a}();e.exports=a}),null);
__d("useStoriesCardNoopLogging",[],(function(a,b,c,d,e,f){"use strict";function a(){return function(a){}}e.exports=a}),null);
__d("StoriesBugNub.react",["ix","React","TetraButton.react","fbicon","gkx","stylex","useStoriesReportBug"],(function(a,b,c,d,e,f,g){"use strict";function a(a){a=b("useStoriesReportBug")(a);var c=a[0];a=a[1];var d=b("gkx")("678680"),e=b("gkx")("708253");return!d||e?null:b("React").jsx("div",{className:"fcg2cn6m pmk7jnqg rgwamhcl",children:b("React").jsx(b("TetraButton.react"),{icon:b("fbicon")._(g("530511"),16),label:"bug nub",labelIsHidden:!0,onPress:c,ref:a,size:"medium",type:"secondary"})})}e.exports=a}),null);
__d("useStoriesBluePageTransitionListener",["requireCond","cr:808374","React","StoriesViewer2URI"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("React").useEffect;function a(a){g(function(){var c=function(c){b("StoriesViewer2URI").isValid(c)||a()};b("cr:808374")&&b("cr:808374").registerHandler(c);return function(){b("cr:808374")&&b("cr:808374").removeHandler(c)}})}e.exports=a}),null);
__d("StoriesRelayBlue",["requireCond","cr:1150431"],(function(a,b,c,d,e,f){"use strict";e.exports=b("cr:1150431")}),null);
__d("storiesBlueCreateFragmentContainer",["requireCond","cr:1150432"],(function(a,b,c,d,e,f){"use strict";e.exports={createFragmentContainer:b("cr:1150432").createFragmentContainer}}),null);
__d("storiesJewelArbiterListener",["Arbiter"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a){var c=a.onJewelHidden,d=a.onJewelShown,e=[];e.push(b("Arbiter").subscribe("layer_shown",function(a,b){(b.type==="Jewel"||b.type==="HELP_LITE")&&d!=null&&d()}),b("Arbiter").subscribe("layer_hidden",function(a,b){(b.type==="Jewel"||b.type==="HELP_LITE")&&c!=null&&c()}));return function(){e.forEach(function(a){a!=null&&b("Arbiter").unsubscribe(a)})}}e.exports=a}),null);
__d("storiesOpenComposer",["Arbiter","AsyncDialog","AsyncRequest","ReactComposerEvents"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a){__p&&__p();var c=a.onClose,d=a.onOpen;a=a.composerURI;var e=[],f=!1;b("AsyncDialog").send(new(b("AsyncRequest"))(a),function(a){a.subscribe("hide",function(){f=!1,c()}),a.subscribe("show",function(){d()})});e.push(b("Arbiter").subscribe("ReactComposerDialogGetComposerIDHelper/broadcastComposerID",function(a,d){a=d.composerID;f=!0;e.push(b("Arbiter").subscribe(b("ReactComposerEvents").COMPOSER_UNMOUNT+a,function(){f&&(f=!1,c())}))}));e.push(b("Arbiter").subscribe("layer_hidden",function(){f||c()}));return function(){e.forEach(function(a){a!=null&&b("Arbiter").unsubscribe(a)})}}e.exports=a}),null);
__d("storiesOpenMessageViewerDialog",["Arbiter","AsyncDialog","AsyncRequest","URI"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;function a(a,c,d){__p&&__p();d===void 0&&(d=null);var e=!1,f=[];a=new(g||(g=b("URI")))("/ajax/messaging/composer.php").addQueryData("ids",[a]);a=new(b("AsyncRequest"))(a);d&&a.setRelativeTo(d);b("AsyncDialog").send(a,function(a){a.subscribe("beforeshow",function(){e=!0}),a.subscribe(["cancel","hide"],function(){e=!1})});f.push(b("Arbiter").subscribe("layer_hidden",function(){e||c()}));return function(){f.forEach(function(a){a!=null&&b("Arbiter").unsubscribe(a)})}}e.exports=a}),null);
__d("FBStoriesActionsFromComet",["FBStoriesActionTypes","FBStoriesDispatcher","StoriesUtils"],(function(a,b,c,d,e,f){function a(a){b("FBStoriesDispatcher").dispatch({bucketID:null,threadID:b("StoriesUtils").cardID2ThreadID(a),type:b("FBStoriesActionTypes").UPDATE_THREAD_SEEN_OPTIMISTIC})}e.exports={updateThreadSeenOptimistic:a}}),null);
__d("StoriesCardBlueVideoMedia.react",["React","StoriesCardTimerSourceVideo","StoriesPauseReasons","StoriesRelay","VideoDataContainer.react","VideoPlayer.react","VideoPlayerQualitiesArray","stylex","StoriesCardBlueVideoMedia_video.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h,i=b("React").useEffect,j=b("React").useRef;b("StoriesRelay").graphql;var k=b("StoriesRelay").useFragment,l=b("VideoPlayerQualitiesArray").getHighestVideoQuality;(h||(h=b("stylex"))).inject(".b4mxh4y2{background-color:rgba(0,0,0,0)}",1);h.inject(".f5m7p0br{border-top:none}",.3);h.inject(".iwso50tu{border-right:none}",.3,".iwso50tu{border-left:none}");h.inject(".ggolc4ur{border-bottom:none}",.3);h.inject(".js4msrqk{border-left:none}",.3,".js4msrqk{border-right:none}");h.inject(".pytsy3co{height:100%}",1);h.inject(".s8sjc6am{position:absolute}",1);h.inject(".myo4itp8{left:0}",1,".myo4itp8{right:0}");h.inject(".ekq1a7f9{top:0}",1);h.inject(".mfclru0v{width:100%}",1);h.inject(".i85zmo3j{align-items:center}",1);h.inject(".n86ytk1e{background-color:var(--fds-black-alpha-30)}",1);h.inject(".alzwoclg{display:flex}",1);h.inject(".cqf1kptm{flex-direction:column}",1);h.inject(".pytsy3co{height:100%}",1);h.inject(".jcxyg2ei{justify-content:center}",1);h.inject(".mfclru0v{width:100%}",1);function a(a){__p&&__p();var c=a.isMuted,d=a.isPaused,e=a.onTimerSourceUpdate,f=a.onVideoLoaded,h=a.setPause;a=a.video;var m=j([]),n=j(null);a=k(g!==void 0?g:g=b("StoriesCardBlueVideoMedia_video.graphql"),a);a=a==null?void 0:a.id;var o=function(a){__p&&__p();n.current=a;if(a==null)return;e(new(b("StoriesCardTimerSourceVideo"))(a));d||(a.play("autoplay_initiated"),h(!1,b("StoriesPauseReasons").VIDEO_PLAYBACK));c&&a.mute();m.current=[a.addListener("playbackNotAllowed",function(a){h(!0,b("StoriesPauseReasons").VIDEO_PLAYBACK),f()}),a.addListener("play",function(a){f()}),a.addListener("beginPlayback",function(a){f()}),a.addListener("buffered",function(b){b=a.getAvailableVideoQualities();b=l(b);b!=null&&a.getSelectedVideoQuality()!==b&&a.setPreferredVideoQuality(b)})]},p=function(a){a.stopPropagation()};i(function(){n.current!=null&&(c?n.current.mute():n.current.unmute())},[c]);i(function(){n.current!=null&&(d?n.current.pause("user_initiated"):n.current.play("user_initiated"))},[d]);return a==null?null:b("React").jsxs("div",{className:"mfclru0v jcxyg2ei pytsy3co cqf1kptm alzwoclg n86ytk1e i85zmo3j",children:[b("React").jsx(b("VideoDataContainer.react"),{videoID:a,children:b("React").jsx(b("VideoPlayer.react"),{forceHD:!0,videoData:b("VideoDataContainer.react").VIDEO_DATA_PLACEHOLDER,playerOrigin:"fb_stories",subOrigin:"camera_post",ref:function(a){o(a==null?void 0:a.vpc)}})}),b("React").jsx("div",{className:"mfclru0v ekq1a7f9 myo4itp8 s8sjc6am pytsy3co js4msrqk ggolc4ur iwso50tu f5m7p0br b4mxh4y2",onClick:p})]})}e.exports=a}),null);
__d("InteractionTracingLoomProvider",["requireCond","cr:1221437"],(function(a,b,c,d,e,f){"use strict";e.exports=b("cr:1221437")}),null);
__d("VisualCompletionLoomProvider",["requireCond","cr:1221438"],(function(a,b,c,d,e,f){"use strict";e.exports=b("cr:1221438")}),null);
__d("XWebLoginController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/login/web/",{add_to_profile:{type:"Bool",defaultValue:!1},api_key:{type:"String"},cancel_url:{type:"String"},canvas:{type:"Exists",defaultValue:!1},channel_url:{type:"String"},connect_display:{type:"String"},crst:{type:"Bool",defaultValue:!1},cuid:{type:"String"},deact:{type:"String"},display:{type:"String"},fbconnect:{type:"String"},friend_nonce:{type:"String"},ab_test_data:{type:"String"},email:{type:"String"},pass:{type:"String"},e:{type:"Int"},legacy_return:{type:"Bool",defaultValue:!1},next:{type:"String"},nopw:{type:"Bool",defaultValue:!1},popup:{type:"Exists",defaultValue:!1},req_perms:{type:"String"},return_session:{type:"Bool",defaultValue:!1},signed_next:{type:"Bool",defaultValue:!1},skip_api_login:{type:"Bool",defaultValue:!1},social_plugin:{type:"String"},social_plugin_action:{type:"String"},isprivate:{type:"Bool",defaultValue:!1},work_uid:{type:"Int"},work_nonce:{type:"String"},lgndim:{type:"String"},enable_profile_selector:{type:"Bool",defaultValue:!1},profile_selector_ids:{type:"String"},first_attempt:{type:"Exists",defaultValue:!1},relay_post_params:{type:"String"},session_version:{type:"Int"},trynum:{type:"Int"},reactivate:{type:"Exists",defaultValue:!1},ci_partner_login:{type:"Exists",defaultValue:!1},connect_id:{type:"Int"},external_page_url:{type:"String"},provider:{type:"String"},iframe_src:{type:"String"},m2w:{type:"Exists",defaultValue:!1},nothacked:{type:"Bool",defaultValue:!1},offline_access:{type:"Exists",defaultValue:!1},page_id:{type:"String"},n:{type:"String"},id:{type:"Int"},h:{type:"String"},from_contact_claiming:{type:"Bool",defaultValue:!1},issuer:{type:"String"},kid_directed_site:{type:"Bool",defaultValue:!1},delete_account:{type:"String"},guid:{type:"String"}})}),null);
__d("VideoActionsMenu.react",["cx","fbt","ClickableArea.react","Clipboard","React","XWebLoginController"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("React").useState;function a(a){var c=a.permalinkURL,d=a.showCopyLink;a=a.tabIndex;var e=i(!1),f=e[0],g=e[1];e=b("XWebLoginController").getURIBuilder().setString("next",c).getURI();var j=function(){var a=b("Clipboard").copy(c);g(a)};return b("React").jsx("div",{className:"_2i_w",children:b("React").jsxs("div",{className:"_2i_x",children:[b("React").jsx("a",{href:e,className:"_4t9q _2iw4",tabIndex:a,children:h._("\u0627\u0644\u0625\u0628\u0644\u0627\u063a \u0639\u0646 \u0627\u0644\u0641\u064a\u062f\u064a\u0648")}),d?b("React").jsx(b("ClickableArea.react"),{onClick:j,children:b("React").jsx("div",{className:"_8s62 _2iw4",children:f?h._("\u062a\u0645 \u0646\u0633\u062e \u0627\u0644\u0631\u0627\u0628\u0637"):h._("\u0646\u0633\u062e \u0627\u0644\u0631\u0627\u0628\u0637")})}):null]})})}e.exports=a}),null);
__d("VideoActionsControl.react",["ix","cx","fbt","AbstractButton.react","ClickableArea.react","Image.react","React","TooltipData","VideoActionsMenu.react","asset"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=b("React").useCallback,k=b("React").useState;function a(a){__p&&__p();var c=a.disabled,d=a.onActionsClicked,e=a.permalinkURL,f=a.showCopyLink;a=a.tabIndex;var h=k(!1),l=h[0],m=h[1];h=b("React").jsx(b("Image.react"),{className:"_rwt",src:g("621635")});var n=i._("\u062e\u064a\u0627\u0631\u0627\u062a \u0627\u0644\u0645\u0634\u0627\u0631\u0643\u0629 \u0648\u0627\u0644\u062a\u0642\u0627\u0631\u064a\u0631"),o=!c&&l;o=o?b("React").jsx("div",{className:"_2iw7"+(l?" _2iw8":""),children:b("React").jsx(b("VideoActionsMenu.react"),{permalinkURL:e,showCopyLink:f,tabIndex:a})}):null;e=i._("\u0627\u0644\u062e\u064a\u0627\u0631\u0627\u062a");f=j(function(){m(!l),d&&d()},[l,d]);return b("React").jsxs("div",{className:"_2j04",children:[o,b("React").jsx(b("ClickableArea.react"),babelHelpers["extends"]({},b("TooltipData").propsFor(e,"above"),{onClick:f,children:b("React").jsx(b("AbstractButton.react"),{className:"_zbd"+(c?" _132h":""),disabled:c,image:h,label:n,labelIsHidden:!0,tabIndex:a,type:"button"})}))]})}e.exports=a}),null);
__d("FBLoomSerializer",["SnappyCompressUtil"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function g(){return!window.Uint8Array||!window.btoa?!1:!0}function a(a,c,d,e){__p&&__p();c=c.flushEvents();if(!g())return null;var f=a.start_time_us,h=a.end_time_us,i=f/1e3,j=h/1e3;d!=null&&(d.trace.samples=d.trace.samples.filter(function(a){return a.startTime>=i&&a.endTime!=null&&a.endTime<=j}));if(e!=null){var k=i-e.stats.timeOrigin,l=j-e.stats.timeOrigin;e.trace.samples=e.trace.samples.filter(function(a){return a.timestamp>=k&&a.timestamp<=l})}var m=JSON.stringify(a)+"\n"+JSON.stringify(d||{})+"\n"+JSON.stringify(e||null)+"\n",n=0;c.forEach(function(a){__p&&__p();var b=Math.round(a.timestamp*1e3);if(b<f||b>h)return;var c=b-n;n=b;b=a.event;a=[c,b.type];switch(b.type){case"QPL_ANNOTATION":a.push(b.markerId);a.push(b.instanceKey);a.push(b.annotationKey);a.push(b.annotationValue);break;case"QPL_START":a.push(b.markerId);a.push(b.instanceKey);break;case"QPL_END":a.push(b.markerId);a.push(b.instanceKey);a.push(b.action);break;case"QPL_POINT":a.push(b.markerId);a.push(b.instanceKey);a.push(b.name);b.data!=null&&a.push(b.data);break;case"RESOURCE_TIMING_START":a.push(b.resourceType);a.push(b.resourceId);a.push(b.resourceName);a.push(b.encodedSize);a.push(b.decodedSize);a.push(b.transferSize);break;case"RESOURCE_TIMING_END":a.push(b.resourceType);a.push(b.resourceId);break;case"RESOURCE_TIMING_POINT":a.push(b.resourceType);a.push(b.resourceId);a.push(b.pointName);break;case"INTERACTION_TRACE_START":a.push(b.traceId);a.push(b.execUnitName);a.push(b.blockName);a.push(b.blockType);a.push(b.traceType);break;case"INTERACTION_TRACE_END":a.push(b.traceId);a.push(b.execUnitName);a.push(b.blockName);a.push(b.blockType);a.push(b.traceType);a.push(b.blockAnnotations);break;case"INTERACTION_TRACE_POINT":a.push(b.traceId);a.push(b.execUnitName);a.push(b.blockName);a.push(b.pointName);a.push(b.pointAnnotations);break;case"VISUAL_COMPLETION_RECT":a.push(b.elementType);a.push(b.depth);a.push(b.x);a.push(b.y);a.push(b.width);a.push(b.height);a.push(b.mutationType);break;case"VISUAL_COMPLETION_PROGRESS":a.push(b.progress);break;case"JS_SCHEDULER_QUEUE":a.push(b.priority);a.push(b.queueSize);break}m+=JSON.stringify(a)+"\n"});return b("SnappyCompressUtil").compressStringToSnappy(m)}e.exports={isSupported:g,serialize:a}}),null);
__d("QPLLoomProvider",["QuickPerformanceLogger"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=function(){__p&&__p();function a(a){var c=this;this.$2={};this.$1=b("QuickPerformanceLogger").addListener({onMarkerStart:function(b,d,e){e>=a.startTime&&a.buffer.addEvent({type:"QPL_START",markerId:b,instanceKey:d},e),c.$2[b]||(c.$2[b]={}),c.$2[b][d]=e},onMarkerEnd:function(b,c,d,e){e>=a.startTime&&a.buffer.addEvent({type:"QPL_END",action:b,markerId:c,instanceKey:d},e)},onMarkerPoint:function(b,c,d,e,f){f>=a.startTime&&a.buffer.addEvent({type:"QPL_POINT",markerId:b,instanceKey:c,name:d,data:e},f)},onAnnotation:function(b,d,e,f){var g=c.$2[b];g=g==null?void 0:g[d];g!=null&&g>=a.startTime&&a.buffer.addEvent({type:"QPL_ANNOTATION",markerId:b,instanceKey:d,annotationKey:e,annotationValue:f},g)}})}var c=a.prototype;c.loomTraceWillEnd=function(){this.$1.dispose()};return a}();e.exports={loomProviderId:"QPL",isSupported:function(){return!0},getInstance:function(a){return new g(a)}}}),null);
__d("ResourceTimingLoomProvider",["clamp","performanceAbsoluteNow"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;function h(a){var b=a.indexOf("?");return b==-1?a:a.substring(0,b)}function i(a,b){b=b.substring(b.lastIndexOf(".")+1);if(b=="js"||b=="css")return b;else if(a=="img"||b=="png"||b=="jpg"||b=="ico")return"img";else return a}var j=function(){__p&&__p();a.isSupported=function(){return window.performance&&window.performance.getEntriesByType&&window.performance.timing&&window.performance.timing.navigationStart};function a(a){this.$1=a}var c=a.prototype;c.loomTraceWillEnd=function(){__p&&__p();var a=this.$1;if(a!=null){var c=a.startTime,d=(g||(g=b("performanceAbsoluteNow")))(),e=performance.timing.navigationStart;window.performance.getEntriesByType("resource").filter(function(a){return a.startTime<a.responseEnd&&a.startTime+e>=c&&a.responseEnd+e<=d}).forEach(function(c,d){var f=c.startTime+e,g=c.responseEnd+e,j=h(c.name),k=i(c.initiatorType,j);a.buffer.addEvent({type:"RESOURCE_TIMING_START",resourceType:k,resourceId:d,resourceName:j,encodedSize:c.encodedBodySize,decodedSize:c.decodedBodySize,transferSize:c.transferSize},f);["requestStart","responseStart"].forEach(function(h){var i=c[h]+e;a.buffer.addEvent({type:"RESOURCE_TIMING_POINT",resourceType:k,resourceId:d,pointName:h},b("clamp")(i,f,g))});a.buffer.addEvent({type:"RESOURCE_TIMING_END",resourceType:k,resourceId:d},g)})}this.$1=null};return a}();e.exports={loomProviderId:"ResourceTiming",isSupported:function(){return j.isSupported()},getInstance:function(a){return new j(a)}}}),null);
__d("FBLoom",["Promise","requireCond","cr:1229882","Banzai","CurrentUser","FBLoomEventBuffer","FBLoomSerializer","InteractionTracingLoomProvider","cr:1094133","cr:955714","PerfXSharedFields","QPLLoomProvider","Random","ResourceTimingLoomProvider","SiteData","VisualCompletionLoomProvider","WebLoomConfig","performanceAbsoluteNow","promiseDone","recoverableViolation","uuid"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;a=function(){__p&&__p();function a(){this.$4=[b("ResourceTimingLoomProvider"),b("InteractionTracingLoomProvider"),b("QPLLoomProvider"),b("VisualCompletionLoomProvider"),b("cr:1094133")].filter(Boolean),b("cr:955714")!=null&&b("cr:955714").isSupported()?this.$4.push(b("cr:955714")):b("cr:1229882")!=null&&this.$4.push(b("cr:1229882")),this.$3=new Set(this.$4.map(function(a){return a.loomProviderId})),this.$1=new Map(),this.$2=new Map(),this.$5=b("FBLoomSerializer").isSupported(),this.$6=!1,this.$7=1,this.$8=new Map(),this.$9=b("uuid")(),this.$10=1}var c=a.prototype;c.getNextSequenceNumber=function(){var a=this.$10;this.$10++;return a};c.getSessionId=function(){return this.$9};c.getActiveTraces=function(){return this.$1};c.addProvider=function(a){this.$4.push(a)};c.addStatusListener=function(a){var b=this,c=this.$7++;this.$8.set(c,a);return{dispose:function(){b.$8["delete"](c)}}};c.$11=function(a,b,c){var d=a+"_"+b;a={marker_id:String(a),instance_key:b};return this.startTrace(d,"QPL",a,c)};c.maybeStartTraceForQPL=function(a,c,d){var e=b("WebLoomConfig").qpl_sample_rates[a];return e&&b("Random").coinflip(e)?this.$11(a,c,d):null};c.maybeEndTraceForQPL=function(a,b,c,d){a=a+"_"+b;this.$1.has(a)&&this.endTrace(a,c,d)};c.startManualTrace=function(){this.$11(45088769,0,(g||(g=b("performanceAbsoluteNow")))())};c.endManualTrace=function(){this.maybeEndTraceForQPL(45088769,0,(g||(g=b("performanceAbsoluteNow")))(),{qpl_action:2})};c.startTrace=function(a,c,d,e,f){__p&&__p();f===void 0&&(f=this.$3);if(!this.$5)return null;if(this.$1.has(a)){b("recoverableViolation")("Already running trace for triggerId: "+a,"web_loom");return null}var g=this.$10++,h={buffer:new(b("FBLoomEventBuffer"))(),triggerId:a,triggerType:c,triggerInfo:d,startTime:e,sequenceNumber:g},i=[];this.$4.forEach(function(a){f.has(a.loomProviderId)&&a.isSupported()&&i.push(a.getInstance(h))});var j="STARTED";this.$1.set(a,{traceContext:h,providerInstances:i,status:j});this.$8.forEach(function(a){return a(h,j)});c=this.$9+"_"+g;return c};c.endTrace=function(a,c,d){__p&&__p();var e=this,f=this.$1.get(a);if(!f){b("recoverableViolation")("No trace running for triggerId: "+a,"web_loom");return!1}var g=f.traceContext.sequenceNumber;this.$1["delete"](a);this.$2.set(g,f);this.$12(f,"END_PENDING");var h=[];f.providerInstances.forEach(function(a){a=a.loomTraceWillEnd();a&&h.push(a)});b("promiseDone")(b("Promise").all(h),function(){var a=b("PerfXSharedFields").getCommonData();a={app_id:b("CurrentUser").getAppID(),start_time_us:Math.round(f.traceContext.startTime*1e3),end_time_us:Math.round(c*1e3),trigger_id:f.traceContext.triggerId,trigger_type:f.traceContext.triggerType,trigger_info:f.traceContext.triggerInfo,trigger_metadata:d,device_num_cores:a.num_cores,device_ram_bytes:a.ram_gb*1073741824,network_effective_connection_type:a.effective_connection_type,network_downlink_bps:a.downlink_megabits*1e3,network_rtt_ms:a.rtt_ms,client_rev:b("SiteData").client_revision,server_rev:b("SiteData").server_revision,spin_mode:b("SiteData").spin};a=b("FBLoomSerializer").serialize(a,f.traceContext.buffer,f.traceContext.asyncProfilerData,f.traceContext.jsSelfProfilerData);a!=null?(b("Banzai").post("loom_trace",{trace:a,session_id:e.$9,sequence_number:f.traceContext.sequenceNumber},{compress:!1,callback:function(){e.$12(f,"COMPLETE"),e.$2["delete"](g)},delay:e.$6?b("Banzai").VITAL_WAIT:b("Banzai").BASIC_WAIT}),e.$12(f,"UPLOAD_PENDING")):(e.$12(f,"COMPLETE"),e.$2["delete"](g))},function(a){e.$12(f,"ERROR"),e.$2["delete"](g)});return!0};c.flush=function(a){var c=new Set(),d=new Set();this.$2.forEach(function(a){a.status==="END_PENDING"?c.add(a.traceContext.sequenceNumber):a.status==="UPLOAD_PENDING"&&d.add(a.traceContext.sequenceNumber)});if(c.size>0)var e=this.addStatusListener(function(d){c["delete"](d.sequenceNumber),c.size===0&&(b("Banzai").flush(a,a),e.dispose())});else d.size>0?b("Banzai").flush(a,a):a&&a()};c.setIsDevToolsConnected=function(a){this.$6=a};c.$12=function(a,b){a.status=b,this.$8.forEach(function(b){return b(a.traceContext,a.status)})};return a}();e.exports=new a()}),null);
__d("FBLoomInteractionSampling",["WebLoomConfig"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a,c){__p&&__p();var d=0;for(var e=b("WebLoomConfig").interactions,f=Array.isArray(e),g=0,e=f?e:e[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var h;if(f){if(g>=e.length)break;h=e[g++]}else{g=e.next();if(g.done)break;h=g.value}h=h;if(h.trace_policy!==null&&h.trace_policy!==a)continue;if(h.qpl_marker_ids&&!h.qpl_marker_ids.includes(c))continue;d=h.sample_rate;break}return d}e.exports={getSampleRate:a}}),null);
__d("FBLoomBlue",["FBLoom","FBLoomInteractionSampling","Random","performanceNavigationStart"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("performanceNavigationStart")(),h=new Set(["InteractionTracing"]);a=function(){__p&&__p();function a(){}var c=a.prototype;c.maybeStartTraceForInteraction=function(a,c,d,e,f){var i=b("FBLoomInteractionSampling").getSampleRate(e,d);if(!b("Random").coinflip(i))return null;i=f+g;f={interaction_class:c,interaction_id:a,qpl_event_marker_id:String(d),trace_policy:e};return b("FBLoom").startTrace(a,"INTERACTION",f,i,h)};c.endTraceForInteraction=function(a,c,d,e){d=Object.assign({},d);d.qpl_action=e;e=c+g;return b("FBLoom").endTrace(a,e,d)};return a}();e.exports=new a()}),null);
__d("HeroInteractionTracing",["FBLoomBlue","HeroTracingMetrics","performanceNow","recoverableViolation"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=function(){__p&&__p();function a(a){this.$2=null,this.$1=a}var c=a.prototype;c.maybeStartLoomTrace=function(){var a=this.$1,c=a.qplEvent,d=a.interactionClass,e=a.tracePolicy;a=a.start;var f=null;c!=null&&d!=null?f=b("FBLoomBlue").maybeStartTraceForInteraction(this.$1.traceId,d,c,e,a):b("recoverableViolation")("missing required data to start FBLoom trace for HeroInteractionTracing","comet_infra");this.$2=f;f==null&&b("HeroTracingMetrics").end(this.$1.traceId,(g||(g=b("performanceNow")))())};c.addSubspan=function(a,c,d,e,f){b("HeroTracingMetrics").addSubspan(this.$1.traceId,a,c,d,e,f)};c.addMetadata=function(a,b){var c=this.$1;c.metadata[a]=b};c.end=function(){var a=this.$1,c=a.qplEvent;if(a.completed==null&&c!=null){var d=(g||(g=b("performanceNow")))();a.completed=d;b("FBLoomBlue").endTraceForInteraction(a.traceId,d,a.metadata,c)}};return a}();a=function(){__p&&__p();function a(){this.$1=new Map()}var c=a.prototype;c.getOrCreate=function(a){__p&&__p();var c=this.$1.get(a);if(c!=null)return c;c=b("HeroTracingMetrics").get(a);if(c==null)return null;c=new h(c);c.maybeStartLoomTrace();this.$1.set(a,c);return c};c.end=function(a){if(b("HeroTracingMetrics").get(a)==null)return;a=this.getOrCreate(a);a&&a.end()};return a}();e.exports=new a()}),null);
__d("InteractionTracingLoomProviderBlue",["HeroTracingMetrics","performanceNavigationStart"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("performanceNavigationStart")(),h=function(){__p&&__p();var c=a.prototype;c.$2=function(a,b){var c=this.$1;if(!c)return;c.buffer.addEvent(a,g+b)};c.$3=function(a,b,c){__p&&__p();var d=this,e=a.subSpans;c=function(c){e[c].forEach(function(e,f){if(e.type==="HeroTracing"){f={blockName:c+"_"+f,blockType:e.type,execUnitName:c,traceId:b,traceType:a.type};d.$2(babelHelpers["extends"]({type:"INTERACTION_TRACE_START"},f),e.start);d.$2(babelHelpers["extends"]({blockAnnotations:e.data,type:"INTERACTION_TRACE_END"},f),e.end)}})};for(var f in e)c(f)};function a(a){this.$1=a}c.loomTraceWillEnd=function(){var a=this.$1;if(!a)return;if(a.triggerType==="INTERACTION"&&a.triggerInfo.interaction_id!=null){a=b("HeroTracingMetrics").get(a.triggerInfo.interaction_id);a&&this.$3(a,a.traceId,a.qplEvent)}};return a}();e.exports={loomProviderId:"InteractionTracing",isSupported:function(){return!0},getInstance:function(a){return new h(a)}}}),null);
__d("VisualCompletionLoomProviderBlue",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=function(){function a(){}var b=a.prototype;b.loomTraceDidBegin=function(a){};b.loomTraceWillEnd=function(){};return a}();e.exports={loomProviderId:"VisualCompletion",isSupported:function(){return!1},getInstance:function(a){return new g()}}}),null);