if (self.CavalryLogger) { CavalryLogger.start_js(["IAknb"]); }

__d("AdsNuxTourAbandonedDataAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"NUX_TOUR.ABANDONED");e.exports=a}),null);
__d("BizNotificationListConst",["invariant"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();d={biz_chrome_account:"BIZ_CHROME_ACCOUNT",biz_chrome_ads:"BIZ_CHROME_ADS",biz_chrome_pages:"BIZ_CHROME_PAGES",biz_chrome_apps:"BIZ_CHROME_APPS"};f={all:"all",account:"account",ads:"ads",pages:"pages",apps:"apps"};var h=["business","ads","page","apps"],i=["dynamic","all","account","ads","pages","apps"];a=a().TAB_BY_DEFAULT_TAB;function a(){__p&&__p();var a={};i.forEach(function(b){__p&&__p();switch(b){case"all":a[b]="all";break;case"account":a[b]="account";break;case"ads":a[b]="ads";break;case"pages":a[b]="pages";break;case"apps":a[b]="apps";break;default:b||g(0,11419)}});return{TAB_BY_DEFAULT_TAB:a}}var j=["BIZ_CHROME_ACCOUNT","BIZ_CHROME_ADS","BIZ_CHROME_PAGES","BIZ_CHROME_APPS"],k=b().CLASSIFICATION_TO_MACRO_CATEGORY_MAP,l=b().CLASSIFICATION_TO_TAB_MAP;b=b().EMPTY_UNSEEN_NOTIFS_COUNT_BY_CLASSIFICATION;function b(){__p&&__p();var a={},b={},c={};j.forEach(function(d){__p&&__p();c[d]=0;switch(d){case"BIZ_CHROME_ACCOUNT":b[d]="account";a[d]="business";break;case"BIZ_CHROME_ADS":b[d]="ads";a[d]="ads";break;case"BIZ_CHROME_PAGES":b[d]="pages";a[d]="page";break;case"BIZ_CHROME_APPS":b[d]="apps";a[d]="apps";break;default:d||g(0,11505)}});return{CLASSIFICATION_TO_MACRO_CATEGORY_MAP:a,CLASSIFICATION_TO_TAB_MAP:b,EMPTY_UNSEEN_NOTIFS_COUNT_BY_CLASSIFICATION:c}}var m=["all","account","ads","pages","apps"],n=c().EMPTY_UNSEEN_NOTIFS_COUNT_BY_TAB,o=c().MACRO_CATEGORY_BY_TAB,p=c().TAB_COUNT_TO_BE_CLEARED,q=c().TAB_TO_CLASSIFICATION_MAP,r=c().TAB_TO_CONTEXT_MAP;c=c().TAB_TO_SOURCE_VIEW_MAP;function c(){__p&&__p();var a={},b={},c={},d={},e={},f={};m.forEach(function(h){__p&&__p();a[h]=0;c[h]=!1;switch(h){case"all":e[h]="bizsite_all_tab";f[h]="BIZSITE_ALL_TAB";break;case"account":b[h]="business";d[h]="BIZ_CHROME_ACCOUNT";e[h]="bizsite_account_tab";f[h]="BIZSITE_ACCOUNT_TAB";break;case"ads":b[h]="ads";d[h]="BIZ_CHROME_ADS";e[h]="bizsite_ads_tab";f[h]="BIZSITE_ADS_TAB";break;case"pages":b[h]="page";d[h]="BIZ_CHROME_PAGES";e[h]="bizsite_pages_tab";f[h]="BIZSITE_PAGES_TAB";break;case"apps":b[h]="apps";d[h]="BIZ_CHROME_APPS";e[h]="bizsite_apps_tab";f[h]="BIZSITE_APPS_TAB";break;default:h||g(0,11506)}});return{EMPTY_UNSEEN_NOTIFS_COUNT_BY_TAB:a,MACRO_CATEGORY_BY_TAB:b,TAB_COUNT_TO_BE_CLEARED:c,TAB_TO_CLASSIFICATION_MAP:d,TAB_TO_CONTEXT_MAP:e,TAB_TO_SOURCE_VIEW_MAP:f}}e.exports={CLASSIFICATION_MAP:d,CLASSIFICATION_TO_MACRO_CATEGORY_MAP:k,CLASSIFICATION_TO_TAB_MAP:l,EMPTY_UNSEEN_NOTIFS_COUNT_BY_CLASSIFICATION:b,EMPTY_UNSEEN_NOTIFS_COUNT_BY_TAB:n,MACRO_CATEGORY_BY_TAB:o,ORDERED_CLASSIFICATIONS:j,ORDERED_DEFAULT_TABS:i,ORDERED_MACRO_CATEGORIES:h,ORDERED_TABS:m,TAB_BY_DEFAULT_TAB:a,TAB_COUNT_TO_BE_CLEARED:p,TAB_MAP:f,TAB_TO_CLASSIFICATION_MAP:q,TAB_TO_CONTEXT_MAP:r,TAB_TO_SOURCE_VIEW_MAP:c}}),null);
__d("BizNotificationTabCountUtils",["BizNotificationListConst"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("BizNotificationListConst").CLASSIFICATION_MAP,h=b("BizNotificationListConst").CLASSIFICATION_TO_TAB_MAP;a={incrementCountByTab:function(a,b){var c=Object.assign({},b);Object.keys(a).forEach(function(b){var d=h[b]||h[g[b]];b=a[b];d!=null&&(c[d]+=b,c.all+=b)});return c},clearTabCount:function(a,b,c){var d=Object.assign({},b),e=Object.assign({},c);a==="all"?Object.keys(b).forEach(function(a){d[a]=0,e[a]=!1}):(d.all-=d[a],d[a]=0,e[a]=!1);return{updatedUnseenByTab:d,updatedTabCountToBeCleared:e}}};e.exports=a}),null);
__d("BizNotificationInitUnseenNotifsReducerPlugin",["BizNotificationListConst","BizNotificationTabCountUtils"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("BizNotificationListConst").CLASSIFICATION_MAP;a={reduce:function(a,c){var d=c.initialClassificationsForUnseenNotifs,e=a.unseenNotifsClassificationsMap,f=a.unseenNotifsCountByTab;f=b("BizNotificationTabCountUtils").incrementCountByTab(c.initialUnseenNotifsCountByClassification,a.unseenNotifsCountByTab);Object.keys(d).forEach(function(a){var b=d[a];b.forEach(function(b){e[b]=g[a]||a})});return babelHelpers["extends"]({},a,{unseenNotifsClassificationsMap:e,unseenNotifsCountByTab:f})}};e.exports=a}),null);
__d("BizNotificationPopoverDataProviderPlugin",["BizNotificationListConst"],(function(a,b,c,d,e,f){"use strict";a=b("BizNotificationListConst").EMPTY_UNSEEN_NOTIFS_COUNT_BY_TAB;c=b("BizNotificationListConst").TAB_COUNT_TO_BE_CLEARED;d={initialState:{isJewelOpen:!1,isPreferencesMode:!1,notifTab:null,prefsSaveState:null,tabCountToBeCleared:Object.assign({},c),unseenNotifsClassificationsMap:{},unseenNotifsCountByTab:Object.assign({},a)}};e.exports=d}),null);
__d("BizNotificationPopoverDataProvider",["Laminar","BizNotificationPopoverDataProviderPlugin"],(function(a,b,c,d,e,f){"use strict";e.exports=b("Laminar").__createProvider(b("BizNotificationPopoverDataProviderPlugin"),"BizNotificationPopoverDataProviderPlugin")}),null);
__d("BizNotificationInitUnseenNotifsAction",["Laminar","BizNotificationInitUnseenNotifsReducerPlugin","BizNotificationPopoverDataProvider"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[b("Laminar").__createReducer(b("BizNotificationInitUnseenNotifsReducerPlugin"),b("BizNotificationPopoverDataProvider"),{},"")]},function(){return[]},"BizNotificationInitUnseenNotifsActionPlugin");e.exports=a}),null);
__d("BizNotificationPrefsProviderPlugin",[],(function(a,b,c,d,e,f){"use strict";a={initialState:{prefs:null}};e.exports=a}),null);
__d("BizNotificationPrefsProvider",["Laminar","BizNotificationPrefsProviderPlugin"],(function(a,b,c,d,e,f){"use strict";e.exports=b("Laminar").__createProvider(b("BizNotificationPrefsProviderPlugin"),"BizNotificationPrefsProviderPlugin")}),null);
__d("IndeterminateNotificationCounter",["cx","DocumentTitle"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h="(*) ",i={init:function(a){a>0&&i.addBadge()},addBadge:function(){__p&&__p();var a=b("DocumentTitle").get(),c=document.getElementById("NotifIndeterminateBadge"),d=c&&c.getAttribute("class");if(d!=null&&d.includes("_76t_")){c=c&&c.textContent;c!=null&&b("DocumentTitle").set("("+c+") "+a,!0);return}else if(d!=null&&d.includes("_79ig")){b("DocumentTitle").set("(99+) "+a,!0);return}b("DocumentTitle").set(h+a,!0)},removeBadge:function(){var a=b("DocumentTitle").get();b("DocumentTitle").set(a,!0)}};e.exports=i}),null);
__d("BizNotificationBadgeUtils",["cx","IndeterminateNotificationCounter","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=99,i={increaseBadgeCount:function(a){if(a!=null){var b=a.textContent;if(!b.endsWith("+")){b=Number(a.textContent)+1;a.textContent=b<=h?b+"":h+"+"}}return a},decreaseBadgeCount:function(a){a!=null&&(a.textContent="0");return a},setBadgeElementToBeActive:function(a){var c=document.getElementById("NotifIndeterminateBadge");a?(c=i.increaseBadgeCount(c),b("IndeterminateNotificationCounter").addBadge()):(c=i.decreaseBadgeCount(c),b("IndeterminateNotificationCounter").removeBadge());var d=c&&c.textContent;d=(d!=null&&!d.endsWith("+")?"_76t_":"")+(d!=null&&d.endsWith("+")?" _79ig":"");a=a?b("joinClasses")("_7256",d):b("joinClasses")("_7257",d);c&&c.setAttribute("class",a)}};e.exports=i}),null);
__d("BizNotificationReceivedNotifReducerPlugin",["BizNotificationBadgeUtils","BizNotificationListConst","BizNotificationTabCountUtils"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("BizNotificationListConst").CLASSIFICATION_TO_MACRO_CATEGORY_MAP,h=b("BizNotificationListConst").EMPTY_UNSEEN_NOTIFS_COUNT_BY_CLASSIFICATION,i=b("BizNotificationListConst").ORDERED_CLASSIFICATIONS,j=function(a,b){if(b==null)return!1;b=b.macro_categories_excluded_from_badging;return!b.includes(g[a])};a={reduce:function(a,c,d){__p&&__p();var e=d.prefsData;d=c.notifs;var f=a.unseenNotifsClassificationsMap,g=Object.assign({},h);d.forEach(function(a){var c=a.classifications;if(c==null)return;c.forEach(function(c){i.includes(c)&&(g[c]+=1,f[a.alert_id]=c,j(c,e.prefs)&&b("BizNotificationBadgeUtils").setBadgeElementToBeActive(!0))})});c=b("BizNotificationTabCountUtils").incrementCountByTab(g,a.unseenNotifsCountByTab);return babelHelpers["extends"]({},a,{unseenNotifsClassificationsMap:f,unseenNotifsCountByTab:c})}};e.exports=a}),null);
__d("BizNotificationReceivedNotifAction",["Laminar","BizNotificationReceivedNotifReducerPlugin","BizNotificationPopoverDataProvider","BizNotificationPrefsProvider"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[b("Laminar").__createReducer(b("BizNotificationReceivedNotifReducerPlugin"),b("BizNotificationPopoverDataProvider"),{prefsData:b("BizNotificationPrefsProvider")},"")]},function(){return[]},"BizNotificationReceivedNotifActionPlugin");e.exports=a}),null);
__d("BizNotificationSeenStateUpdateReducerPlugin",["BizNotificationBadgeUtils","BizNotificationListConst","BizNotificationTabCountUtils"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("BizNotificationListConst").CLASSIFICATION_TO_TAB_MAP;a={reduce:function(a,c){__p&&__p();b("BizNotificationBadgeUtils").setBadgeElementToBeActive(!1);if(!a.isJewelOpen){var d=b("BizNotificationTabCountUtils").clearTabCount("all",a.unseenNotifsCountByTab,a.tabCountToBeCleared),e=d.updatedUnseenByTab;d=d.updatedTabCountToBeCleared;return babelHelpers["extends"]({},a,{unseenNotifsCountByTab:e,tabCountToBeCleared:d})}else{var f=a.tabCountToBeCleared;Object.keys(c.seenState).forEach(function(b){b=a.unseenNotifsClassificationsMap[b];if(b!=null){b=g[b];f[b]=!0}});return babelHelpers["extends"]({},a,{tabCountToBeCleared:f})}}};e.exports=a}),null);
__d("BizNotificationSeenStateUpdateAction",["Laminar","BizNotificationSeenStateUpdateReducerPlugin","BizNotificationPopoverDataProvider"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[b("Laminar").__createReducer(b("BizNotificationSeenStateUpdateReducerPlugin"),b("BizNotificationPopoverDataProvider"),{},"")]},function(){return[]},"BizNotificationSeenStateUpdateActionPlugin");e.exports=a}),null);
__d("BizNotificationSetJewelOpenReducerPlugin",["BizNotificationBadgeUtils","BizNotificationListConst","BizNotificationTabCountUtils"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("BizNotificationListConst").TAB_MAP;a={reduce:function(a,c){__p&&__p();c=c.isJewelOpen;var d=a.tabCountToBeCleared,e=a.unseenNotifsCountByTab,f=a.tabCountToBeCleared;b("BizNotificationBadgeUtils").setBadgeElementToBeActive(!1);c||Object.keys(d).forEach(function(a){if(d[a]){a=b("BizNotificationTabCountUtils").clearTabCount(g[a],e,f);e=a.updatedUnseenByTab;f=a.updatedTabCountToBeCleared}});return babelHelpers["extends"]({},a,{isJewelOpen:c,unseenNotifsCountByTab:e,tabCountToBeCleared:f})}};e.exports=a}),null);
__d("BizNotificationSetJewelOpenAction",["Laminar","BizNotificationSetJewelOpenReducerPlugin","BizNotificationPopoverDataProvider"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[b("Laminar").__createReducer(b("BizNotificationSetJewelOpenReducerPlugin"),b("BizNotificationPopoverDataProvider"),{},"")]},function(){return[]},"BizNotificationSetJewelOpenActionPlugin");e.exports=a}),null);
__d("BizNotificationsSetPrefsReducerPlugin",[],(function(a,b,c,d,e,f){"use strict";a={reduce:function(a,b){return babelHelpers["extends"]({},a,{prefs:b.prefs})}};e.exports=a}),null);
__d("BizNotificationSetPrefsAction",["Laminar","BizNotificationsSetPrefsReducerPlugin","BizNotificationPrefsProvider"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[b("Laminar").__createReducer(b("BizNotificationsSetPrefsReducerPlugin"),b("BizNotificationPrefsProvider"),{},"")]},function(){return[]},"BIZ_NOTIFICATION.SET_PREFS");e.exports=a}),null);
__d("BizNotificationBucketingUtils",["BizNotificationConfig"],(function(a,b,c,d,e,f){"use strict";a={preProcessNodeForLiveSendBucketing:function(a){var c=b("BizNotificationConfig").notifTypeWhitelist,d=[];a.eligible_buckets==null?d=["BIZ_NON_CRITICAL"]:!a.eligible_buckets.includes("BIZ_CRITICAL")&&c.includes(a.notif_type)&&(d=["BIZ_CRITICAL"].concat(a.eligible_buckets||[]));d.length!==0&&(a.eligible_buckets=d);return a}};e.exports=a}),null);
__d("BizNotificationPopoverInitializationHelper",["AdsNuxTourAbandonedDataAction","Arbiter","BizNotificationInitUnseenNotifsAction","BizNotificationReceivedNotifAction","BizNotificationSeenStateUpdateAction","BizNotificationSetJewelOpenAction","BizNotificationSetPrefsAction","NotificationBucketStoreManager","NotificationConstants","NotificationUpdates"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g={initPrefs:function(a){b("BizNotificationSetPrefsAction").dispatch({prefs:a},{line:"31",module:"BizNotificationPopoverInitializationHelper.js"})},initTabs:function(a,c){b("BizNotificationInitUnseenNotifsAction").dispatch({initialUnseenNotifsCountByClassification:a,initialClassificationsForUnseenNotifs:c},{line:"41",module:"BizNotificationPopoverInitializationHelper.js"}),g.setupSubscriptions(),g.initSkipBucket()},initSkipBucket:function(){b("NotificationBucketStoreManager").setSkipBucketType("BIZ_CRITICAL")},setupSubscriptions:function(){b("NotificationUpdates").subscribe("update-notifications",function(a,c){a=c.payloadsource;if(a!==b("NotificationConstants").PayloadSourceType.LIVE_SEND&&a!==b("NotificationConstants").PayloadSourceType.USER_ACTION)return;a=c.nodes;c=c.seenState;a!=null?b("BizNotificationReceivedNotifAction").dispatch({notifs:a},{line:"67",module:"BizNotificationPopoverInitializationHelper.js"}):c!=null&&b("BizNotificationSeenStateUpdateAction").dispatch({seenState:c},{line:"72",module:"BizNotificationPopoverInitializationHelper.js"})}),b("Arbiter").subscribe("notificationJewel/opened",function(){b("BizNotificationSetJewelOpenAction").dispatch({isJewelOpen:!0},{line:"77",module:"BizNotificationPopoverInitializationHelper.js"})}),b("Arbiter").subscribe("notificationJewel/closed",function(){b("AdsNuxTourAbandonedDataAction").dispatch({},{line:"81",module:"BizNotificationPopoverInitializationHelper.js"}),b("BizNotificationSetJewelOpenAction").dispatch({isJewelOpen:!1},{line:"82",module:"BizNotificationPopoverInitializationHelper.js"})})}};e.exports=g}),null);
__d("XUIIndeterminateBadge",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(a){this.$1=a}var b=a.prototype;b.getCount=function(){return 0};b.setCount=function(a){return};b.setLegacyContent=function(a){return};b.increment=function(){return};return a}();e.exports=a}),null);